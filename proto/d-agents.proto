syntax = "proto3";

package proto;

option go_package = "github.com/nieveai/d-agents/proto";

message Workload {
  string id = 1;
  string name = 2;
  repeated string models = 3;
  string description = 4;
  bytes payload = 5;
  int64 timestamp = 6;
  string agent_id = 7;
  WorkloadStatus.Status status = 8;
  string agent_type = 9;
  string config = 10;
}

message WorkloadStatus {
  string workload_id = 1;
  enum Status {
    UNKNOWN = 0;
    PENDING = 1;
    RUNNING = 2;
    COMPLETED = 3;
    FAILED = 4;
  }
  Status status = 2;
  string message = 3;
}

service Worker {
  rpc ExecuteWorkload(Workload) returns (WorkloadStatus);
}
